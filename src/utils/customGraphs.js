// Custom graph configurations for specific dimensions

export const D2_CUSTOM_GRAPHS = {
    teachingMonitoring: {
        title: "ކިޔަވައިދިނުމާ ގުޅޭ ކަންކަން ބެލެހެއްޓުން",
        outcomes: [
            {
                outcomeNo: "2.1.2.1",
                title: "ލެސަން ޕްލޭން ޗެކުކުރުން",
                indicators: ["82", "84"]
            },
            {
                outcomeNo: "2.1.2.2",
                title: "ލެސަން އޮބްޒަރވްކުރުން",
                indicators: ["86", "87"]
            },
            {
                outcomeNo: "2.1.2.3",
                title: "ދަރިވަރުންގެ ފޮތްތައް ޗެކުކުރުން",
                indicators: ["89", "91"]
            },
            {
                outcomeNo: "2.1.2.4",
                title: "ދަރިވަރުންނަށް ފޯރުކޮށްދޭ ކޮންޓެންޓާ ސްކޫލުން ކަށަވަރުކުރުން",
                indicators: ["92", "93"]
            }
        ]
    },
    assessmentProgress: {
        title: "އެސެސްމަންޓް ކުރިއަށްގެންދިއުން",
        outcomes: [
            {
                outcomeNo: "2.1.3.1",
                title: "އެސެސްމަންޓް ފޯ ލަރނިން ކުރިއަށް ގެންދިއުން",
                indicators: ["94", "95"]
            },
            {
                outcomeNo: "2.1.3.2",
                title: "އެސެސްމަންޓް އޮފް ލަރނިން ކުރިއަށް ގެންދިއުން",
                indicators: ["97", "98"]
            }
        ]
    },
    institutionalArrangements: {
        title: "އުނގަންނައިދިނުމާ ގުޅޭ ނިޒާމީ ކަންކަން ކަނޑައެޅުން",
        outcomes: [
            {
                outcomeNo: "2.1.1.1",
                title: "ފަންނީ މުވައްޒަފުންގެ މަސައްކަތް ބަލާނެ ވަކި އުސޫލެއް ކަނޑައަޅައިފައި ވުން",
                indicators: ["67", "68", "69"]
            },
            {
                outcomeNo: "2.1.1.2",
                title: "މިނިސްޓްރީ އިން ކަނޑައަޅައިފައިވާ ޤަވާޢިދުތަކާއި އުސޫލުތަކާ އެއްގޮތަށް ސްކޫލުގެ ސެޝަންތަކުގެ ވަގުތު ކަނޑައަޅައި ގަޑިތައް ހަމަޖައްސައިފައި ވުުން",
                indicators: ["70", "71", "72"]
            },
            {
                outcomeNo: "2.1.1.3",
                title: "ދަރިވަރުންނަށް ގެއްލޭ ފިލާވަޅުތައް ފޯރުކޮށްދޭނެ އުސޫލެއް ޤާއިމުކޮށްފައި ވުން",
                indicators: ["73"]
            },
            {
                outcomeNo: "2.1.2.1",
                title: "ލެސަން ޕްލޭން ޗެކުކުރުން",
                indicators: ["83"]
            },
            {
                outcomeNo: "2.1.2.2",
                title: "ލެސަން އޮބްޒަރވްކުރުން",
                indicators: ["85"]
            },
            {
                outcomeNo: "5.4.1.1",
                title: "އުނގަންނައިދިނުމާ ގުޅޭ ވަސީލަތްތައް ރައްކާތެރިކަމާ އެކު ބެލެހެއްޓޭނެ އިންތިޒާމު ހަމަޖައްސައިފައިވުން",
                indicators: ["537"]
            }
        ]
    },
    literacyNumeracy: {
        title: "ލިޓްރަސީ ނިއުމަރަސީ ހަރުދަނާކުރުން",
        outcomes: [
            {
                outcomeNo: "2.1.5.1",
                title: "ދިރާސީ އަހަރު ފެށޭއިރު ދަރިވަރުން ޑައިގްނޯޒްކުރުމަށް ފަހު ދަރިވަރުންގެ ލިޓްރަސީ ނިއުމަރަސީގެ ހާލަތު ދެނެގަތުން",
                indicators: ["119", "120", "121"]
            },
            {
                outcomeNo: "2.1.5.2",
                title: "ލިޓްރަސީ ނިއުމަރަސީގެ ހުނަރު ތަރައްގީކުރުމަށް ރާވައިގެން ހަރަކާތްތައް ހިންގުން",
                indicators: ["122", "123", "124"]
            },
            {
                outcomeNo: "2.1.5.3",
                title: "ނެޝަނަލް ލިޓްރެސީ އެންޑް މެތެމެޓިކްސް ސްޓްރެޓެޖީ ތަންފީޒުކުރުން",
                indicators: ["125", "126", "127", "128", "129"]
            }
        ]
    }
};

export const D5_CUSTOM_GRAPHS = {
    deputyPrincipalRole: {
        title: "އުނގަންނައިދިނުމުގައި ޑެޕިއުޓީ ޕްރިންސިޕަލްގެ ދައުރު",
        outcomes: [
            {
                outcomeNo: "5.1.1.1",
                title: "އުނގެނުމާއި އުނގަންނައިދިނުމުގެ ކަންކަން މޮނިޓަރކޮށް މުވައްޒަފުންނަށް ބޭނުންވާ ފަންނީ ލަފަޔާއި އިރުޝާދު ދިނުން",
                indicators: ["555", "556", "557", "558", "559"]
            },
            {
                outcomeNo: "5.1.1.2",
                title: "ޑެޕިއުޓީ ޕްރިންސިޕަލުންގެ ބެލުމުގެ ދަށުގައިވާ މުވައްޒަފުންނާ ހަވާލުކޮށްފައިވާ ޒިންމާތަކާއި މަސްއޫލިއްޔަތުތަކަށް އެ މުވައްޒަފުން ޖަވާބުދާރީކުރުވުން",
                indicators: ["560", "561", "562"]
            }
        ]
    },
    administratorResponsibilities: {
        title: "އެޑްމިނިސްޓްރޭޓަރގެ ޒިންމާ އަދާކުރުން",
        outcomes: [
            {
                outcomeNo: "5.5.1.1",
                title: "ސްކޫލަށް ބޭނުންވާ މިންވަރަށް މުވައްޒަފުން ހޯދުން",
                indicators: ["598"]
            },
            {
                outcomeNo: "5.5.2.3",
                title: "މުވައްޒަފުންގެ އެޕްރައިޒަލް ފުރިހަމަކުރުން",
                indicators: ["610"]
            },
            {
                outcomeNo: "5.5.2.4",
                title: "މުވައްޒަފުންގެ ޕާރސަނަލް ފައިލްތައް އަދާހަމަކުރުން",
                indicators: ["613"]
            },
            {
                outcomeNo: "5.5.3.1",
                title: "ސިވިލް ސަރވިސް ޤަވާޢިދާއި މިނިސްޓްރީއާއި ސްކޫލުގެ ޤަވާޢިދުތަކަށް މުވައްޒަފުން އަހުލުވެރިކުރުވުން",
                indicators: ["616"]
            },
            {
                outcomeNo: "5.5.4.1",
                title: "މުވައްޒަފުން ޒިންމާދާރުކުރުވުން",
                indicators: ["591"]
            },
            {
                outcomeNo: "5.5.5.3",
                title: "މަރާމާތުކުރުމާއި ތަކެތި ބެލެހެއްޓުން",
                indicators: ["594"]
            },
            {
                outcomeNo: "5.5.5.4",
                title: "ފާއިސާޢާއި ސްޓޮކް ބެލެހެއްޓުން",
                indicators: ["900"]
            }
        ]
    },
    leadingTeacherRole: {
        title: "އުނގެނުމާ އުނގަންނައިދިނުމުގައި ލީޑިން ޓީޗަރުގެ ދައުރު",
        outcomes: [
            {
                outcomeNo: "5.4.6.1",
                title: "ކޯޑިނޭޝަން މީޓިންތައް ލީޑިންގ ޓީޗަރުން ކުރިއަށް ގެންގޮސް ފަންނީ ލަފަޔާއި އިރުޝާދުދިނުން",
                indicators: ["563"]
            },
            {
                outcomeNo: "5.4.6.2",
                title: "ލީޑިންގ ޓީޗަރުން މުދައްރިސުންގެ ލެސަން ޕްލޭނުތައް ބަލައި އިރުޝާދުދިނުން",
                indicators: ["566"]
            },
            {
                outcomeNo: "5.4.6.3",
                title: "ތާވަލުކޮށްގެން، މުދައްރިސުންގެ ފިލާވަޅުތައް ލީޑިންގ ޓީޗަރުން އޮބްޒާވްކޮށް، ފީޑުބެކްދިނުން",
                indicators: ["569"]
            },
            {
                outcomeNo: "5.4.6.4",
                title: "ދަރިވަރުންގެ މަސައްކަތްތައް ބެލުން",
                indicators: ["572"]
            },
            {
                outcomeNo: "5.4.6.5",
                title: "މަސްއޫލިއްޔަތުތަކާ ގުޅޭ ލިޔެކިޔުންތައް އަދާހަމަކޮށް ބެލެހެއްޓުން",
                indicators: ["575"]
            },
            {
                outcomeNo: "5.4.6.6",
                title: "ޑެއިލީ ރައުންޑްތަކަށް ދިއުން",
                indicators: ["578"]
            }
        ]
    }
};

/**
 * Calculate custom outcome score based on indicator scores
 * Rules:
 * - All indicators score 1 (yes) → outcome = 3
 * - Most indicators score 1 → outcome = 2
 * - Some indicators score 1 → outcome = 1
 * - All indicators score 0 → outcome = 0
 * - Single indicator: 1 → 3, 0 → 0
 */
export function calculateCustomOutcomeScore(indicatorScores) {
    if (!indicatorScores || indicatorScores.length === 0) {
        return 0;
    }

    const validScores = indicatorScores.filter(s => s === 1 || s === 0);
    if (validScores.length === 0) {
        return 0;
    }

    const yesCount = validScores.filter(s => s === 1).length;
    const total = validScores.length;

    // Single indicator case
    if (total === 1) {
        return yesCount === 1 ? 3 : 0;
    }

    // All achieved
    if (yesCount === total) {
        return 3;
    }

    // Most achieved (≥60%)
    if (yesCount / total >= 0.6) {
        return 2;
    }

    // Some achieved (>0%)
    if (yesCount > 0) {
        return 1;
    }

    // None achieved
    return 0;
}
